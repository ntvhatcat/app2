<DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Title here</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0-beta.1/jquery.mobile-1.2.0-beta.1.min.css" />
<script src="http://code.jquery.com/jquery-1.8.1.min.js"></script>
<script src="http://code.jquery.com/mobile/1.2.0-beta.1/jquery.mobile-1.2.0-beta.1.min.js"></script>
<script src="phonegap.js"></script>
<script type="text/javascript" 
	src="https://maps.googleapis.com/maps/api/js?v=3.exp&amp;sensor=true&amp;libraries=places">
</script>
<script src="js/jquery.ui.map.full.min.js"></script>
<script src="js/jquery.ui.map.overlays.min.js"></script>

<script type="text/javascript" charset="UTF-8">

var onDeviceReady = function() {
	//var result = navigator.network.connection.type;
		//alert(result);
	var currentPosition = navigator.geolocation.getCurrentPosition(onGeoSuccess, onGeoError, {maximumAge: 300000, timeout:50000, enableHighAccuracy : true} );

function onGeoSuccess(position) { 
 // clat = position.coords.latitude;
 // clng = position.coords.longitude; 
   //alert(clat +  "," +clng);
   var myLocation = new google.maps.LatLng(position.coords.latitude, position.coords.longitude);

    map  = new google.maps.Map(document.getElementById('map_canvas'), {
	mapTypeId: google.maps.MapTypeId.ROADMAP,
	center: myLocation,
	zoom: 15 }); 
 }
 
 
	//document.addEventListener("pause", onPause, false);
	///document.addEventListener("back button", onBackButton, false);
};
var request = { location: myLocation, radius: currentRadiusValue, types: [currentPlaceType] }; 
var service = new google.maps.places.PlacesService(map); 
service.nearbySearch(request, callback);
function createMarker(place) {
    var placeLoc = place.geometry.location;
    var marker = new google.maps.Marker({
	map: map,
	position: place.geometry.location
    }); 
}
infowindow  = new google.maps.InfoWindow();
google.maps.event.addListener(marker, 'click', function () {
	infowindow.setContent(place.name);
	infowindow.open(map, this);
})
//$.initMap = function() { 
  //var LatLng = new google.maps.LatLng(clat,clng);
  //$('#map_canvas').gmap({'center':LatLng,'zoom':15,'minzoom':10,'disableDefaultUI':true});
//}
//$('#map_canvas').gmap('get', 'map').setOptions({'center': new google.maps.LatLng(clat, clng) });
//function onPause() { 
//alert("resume"); 
//}	
	function init() {
		document.addEventListener("deviceready", onDeviceReady, true); }
		

</script>
</head>
<body onLoad ="init()">
<div data-role="page">
  <div data-role="header" data-position="fixed" data-theme="b"> </div>
  <div id="hello1" data-role="content" data-palette="">
     <div id="map_canvas" style="width:100% ; height:600px"></div>
  </div>
</div>

</body>
</html>
